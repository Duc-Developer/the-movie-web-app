(this["webpackJsonpweb-app"]=this["webpackJsonpweb-app"]||[]).push([[9],{283:function(e,a,t){e.exports=t.p+"static/media/avatar.f620e5fd.svg"},336:function(e,a,t){"use strict";t.r(a),t.d(a,"default",(function(){return H}));var r=t(0),n=t.n(r),l=t(18),s=t(6),c=t(19),i=t(272),m=t(331),o=t(330),u=t(95),p=t(211),d=t(44),E=t(313),v=t.n(E),g=t(314),f=t.n(g);function b(e){var a=e.control,t=e.errors,l=e.name,s=e.rules,E=e.icon,g=e.type,b=e.enableAdornment,h=Object(r.useState)(g),j=Object(c.a)(h,2),x=j[0],y=j[1],O=function(){y("text")},w=function(){y("password")};return n.a.createElement(i.a,{control:a,name:l,rules:s,render:function(e){var a=e.onChange;return n.a.createElement(u.a,{container:!0,spacing:1},n.a.createElement(u.a,{item:!0,xs:12},n.a.createElement(m.a,{label:l,type:x,fullWidth:!0,onChange:function(e){a(e.target.value)},InputProps:{startAdornment:n.a.createElement(o.a,{position:"start"},E),endAdornment:b&&n.a.createElement(o.a,{position:"end"},n.a.createElement(p.a,{"aria-label":"toggle password visibility",onClick:O,onMouseDown:w,edge:"end"},"text"===x?n.a.createElement(v.a,null):n.a.createElement(f.a,null)))}})),n.a.createElement(u.a,{item:!0,xs:12},t[l]&&n.a.createElement(d.a,{color:"error",variant:"caption",component:"i"},t[l].message)))}})}b.defaultProps={enableAdornment:!1,type:"text"};var h=t(97),j=t.n(h),x=t(284),y=t.n(x),O=t(57),w=t(329),A=t(283),N=t.n(A),S=t(37),_=t(102),q={username:"",password:""};function z(){var e=Object(i.b)({defaultValues:q}),a=e.handleSubmit,t=e.errors,r=e.control,s=Object(S.b)(),c=Object(S.c)((function(e){return e.auth}));return n.a.createElement("div",{className:"login-page"},c.user&&n.a.createElement(l.a,{to:"/"}),n.a.createElement("form",{onSubmit:a((function(e){s(Object(_.e)(e))})),className:"login-page__form"},n.a.createElement("img",{width:"120px",src:N.a,alt:"user-logo-form"}),n.a.createElement(d.a,{variant:"h5"},"WELCOME"),c.message&&n.a.createElement(d.a,{variant:"subtitle1",color:"error"},c.message),n.a.createElement(b,{errors:t,control:r,rules:{required:{value:!0,message:"Please enter user name"},pattern:{value:/^[a-zA-Z0-9]+$/,message:"User name must be letters and numbers"}},icon:n.a.createElement(j.a,null),name:"username",type:"text"}),n.a.createElement(b,{errors:t,control:r,rules:{required:{value:!0,message:"Password is required"},pattern:{value:/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{8,}$/,message:"Password is more than 8 characters and including numbers and letters"}},icon:n.a.createElement(y.a,null),name:"password",type:"password",enableAdornment:!0}),n.a.createElement("div",{className:"login-page__login-button"},n.a.createElement(O.a,null,n.a.createElement(w.a,{fullWidth:!0,value:"LOGIN",type:"submit"})))))}var I=t(48),L=t(265),P=t(34),Z={username:"",password:"",avatar:{},firstName:"",lastName:""};function k(){var e=Object(i.b)({defaultValues:Z}),a=e.handleSubmit,t=e.errors,l=e.control,s=Object(r.useRef)(null),m=Object(r.useState)(null),o=Object(c.a)(m,2),p=o[0],E=o[1],v=Object(r.useState)(N.a),g=Object(c.a)(v,2),f=g[0],h=g[1],x=Object(r.useState)(null),A=Object(c.a)(x,2),_=A[0],q=A[1],z=Object(S.c)((function(e){return e.auth})),k=Object(S.b)();return n.a.createElement("div",{className:"register-page"},n.a.createElement("form",{onSubmit:a((function(e){null!==p?"image/jpeg"===(null===p||void 0===p?void 0:p.type)?k(Object(P.d)(Object(I.a)({},e,{avatar:p}))):q("Avatar must be .jpeg file!"):q("Avatar must be update!")})),className:"register-page__form"},n.a.createElement(u.a,{container:!0,spacing:2},n.a.createElement(u.a,{container:!0,justify:"center",item:!0,xs:12},n.a.createElement("div",{className:"register-page__avatar"},n.a.createElement(L.a,{src:f,alt:"user-logo-form",onClick:function(){s.current.click()}})),n.a.createElement("input",{name:"avatar",ref:s,onChange:function(e){e.target.files[0]&&(E(e.target.files[0]),h(URL.createObjectURL(e.target.files[0])))},style:{display:"none"},type:"file"})),n.a.createElement(u.a,{container:!0,justify:"center",item:!0,xs:12},n.a.createElement(d.a,{color:"error",variant:"caption",component:"i"},_)),n.a.createElement(u.a,{container:!0,justify:"center",item:!0,xs:12},n.a.createElement(d.a,{variant:"h5"},"REGISTER")),n.a.createElement(u.a,{item:!0,xs:12,md:6},n.a.createElement(b,{errors:t,control:l,rules:{required:{value:!0,message:"First name is required"},pattern:{value:/^[a-zA-Z]+$/,message:"First name must be letters"}},icon:n.a.createElement("div",null),name:"firstName",type:"text"})),n.a.createElement(u.a,{item:!0,xs:12,md:6},n.a.createElement(b,{errors:t,control:l,rules:{required:{value:!0,message:"Last name is required"},pattern:{value:/^[a-zA-Z]+$/,message:"Last name must be letters"}},icon:n.a.createElement("div",null),name:"lastName",type:"text"})),n.a.createElement(u.a,{item:!0,xs:12},n.a.createElement(b,{errors:t,control:l,rules:{required:{value:!0,message:"Please enter user name"},pattern:{value:/^[a-zA-Z0-9]+$/,message:"User name must be letters and numbers"}},icon:n.a.createElement(j.a,null),name:"username",type:"text"})),n.a.createElement(u.a,{item:!0,xs:12},n.a.createElement(b,{errors:t,control:l,rules:{required:{value:!0,message:"Password is required"},pattern:{value:/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{8,}$/,message:"Password is more than 8 characters and including numbers and letters"}},icon:n.a.createElement(y.a,null),name:"password",type:"password",enableAdornment:!0})),n.a.createElement(u.a,{item:!0,xs:12},n.a.createElement("div",{className:"register-page__login-button"},n.a.createElement(O.a,null,n.a.createElement(w.a,{fullWidth:!0,value:"REGISTER",type:"submit"})))),n.a.createElement(u.a,{container:!0,justify:"center",item:!0,xs:12},n.a.createElement(d.a,{variant:"subtitle1",color:"error"},z.message)))))}var R=t(14),C=t.n(R),$=t(53),U=t(258),W=t(40),D=t(98);function G(e){var a=[];for(var t in e)a.push(e[t]);return a}function T(){var e=Object(r.useState)([]),a=Object(c.a)(e,2),t=a[0],l=a[1];return Object(r.useEffect)((function(){var e=sessionStorage.getItem("userId");function a(){return(a=Object($.a)(C.a.mark((function a(){var t;return C.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,W.a.ref("/users/"+e).once("value").then((function(e){var a;return null===(a=e.val())||void 0===a?void 0:a.wishList}));case 2:t=a.sent,l(G(t));case 4:case"end":return a.stop()}}),a)})))).apply(this,arguments)}!function(){a.apply(this,arguments)}()}),[t.length]),n.a.createElement("div",{className:"wishlist-page"},n.a.createElement(U.a,null,n.a.createElement(d.a,{variant:"h5",component:"h1"},"WISH LIST:"),n.a.createElement(u.a,{container:!0,spacing:2},t.length?t.map((function(e){return n.a.createElement(u.a,{key:e.id,item:!0,xs:12,sm:3},n.a.createElement(D.a,{id:e.id,type:e.type,image:e.image,voteAverage:e.voteAverage,name:e.name,firstAirDate:e.firstAirDate,originalName:e.originalName}))})):n.a.createElement(d.a,{variant:"h6"},"User have not movie on wishlist!"))))}var F=s.f.children,J=F.login,M=F.register,V=F.wish_list;function H(){return n.a.createElement("div",null,n.a.createElement(l.d,null,n.a.createElement(l.b,{exact:!0,path:s.f.path+J.path},n.a.createElement(z,null)),n.a.createElement(l.b,{exact:!0,path:s.f.path+M.path},n.a.createElement(k,null)),n.a.createElement(l.b,{exact:!0,path:s.f.path+V.path},n.a.createElement(T,null))))}}}]);
//# sourceMappingURL=9.a6741096.chunk.js.map